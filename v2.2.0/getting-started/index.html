<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Getting started - Formula Student Driverless Simulator</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Getting started";
        var mkdocs_page_input_path = "getting-started.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Formula Student Driverless Simulator
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../system-overview/">System overview</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Getting started</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#settings">Settings</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#from-release-binaries">From release binaries</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#from-source-using-the-unreal-engine-editor">From source using the Unreal Engine Editor</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-get-the-repository">1. Get the repository</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-compiling-the-airsim-plugin">2. Compiling the AirSim plugin</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-working-with-the-unreal-engine-project">3. Working with the Unreal Engine project</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4-launching-the-game">4. Launching the game</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#next-steps">Next steps</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getting-started-with-ros/">Getting started with ROS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../getting-started-with-python/">Getting started with Python</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../custom-mapping/">Getting started with custom mapping</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Vehicle & Sensors</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../vehicle_model/">Vehicle model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../imu/">IMU</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../lidar/">Lidar</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../camera/">Camera</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gps/">GPS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ground-speed-sensor/">GSS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">#tech-madness</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ros-bridge/">ROS Bridge</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../statistics/">ROS Bridge statistics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../joystick/">Joystick</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../docker_ubuntu/">Docker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../coordinate-frames/">Coordinate frames</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../import-car-3d-model/">Import your 3d car model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../map-tutorial/">Making your own map in UE4</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gcp-remote-workstation/">Google cloud remote workstation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../software-install-instructions/">Software install instructions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../how-to-release/">How to release</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Competition tooling</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../operator/">Operator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../competition-signals/">System flow and signals</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../spectator/">Spectator</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Formula Student Driverless Simulator</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Introduction &raquo;</li>
      <li>Getting started</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/FS-Driverless/Formula-Student-Driverless-Simulator/edit/master/docs/getting-started.md">Edit on FS-Driverless/Formula-Student-Driverless-Simulator</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="getting-started">Getting started</h1>
<p>When running this simulator there are two steps: running the simulator and connecting your autonomous system.
This page helps you run the simulation.
After you have finished this page you can go on and connect your autonomous system. </p>
<p>To run the simulation smoothly you need quite a fast Windows computer with a modern videocard.
We highly recommend the following computer specs. 
You might be able to run with less power but everything will be slower.
For developing this project, you need quite a good computer because Unreal Engine is a heavy baby.</p>
<ul>
<li>8 core 2.3Ghz CPU</li>
<li>12 GB memory</li>
<li>30GB free SSD storage (120GB when building the unreal project from source)</li>
<li>Recent NVidia card with Vulkan support and 3 GB of memory. (You can check the video card drivers by running <code>vulkaninfo</code>). Different brand video cards might work but have not been tested.</li>
</ul>
<p>If your computer does not suffice you can use a remote workstation on Google Cloud Platform.
Read <a href="../gcp-remote-workstation/">this tutorial</a> on how to setup your virtual workstation.</p>
<h2 id="settings">Settings</h2>
<p>In order to work, the simulator requires a <code>settings.json</code> file, which contains general settings and the sensor configuration of the car.
The simulator will look for this file in the following places:
- <code>~/Formula-Student-Driverless-Simulator/settings.json</code> in your <strong>home directory</strong>,
- The folder the simulator binary is located in (<code>&lt;the folder with FSDS.sh&gt;/FSOnline/Binaries/&lt;your OS&gt;/</code>). 
- The current working directory when the simulator binary is launched
- The path supplied via the <code>-settings "&lt;path to settings.json file&gt;</code> command line argument to the binary</p>
<p>Alternatively, when programatically generating the setttings, the simulator also accepts
the settings as a URL encoded json string (e.g. <code>-settings "%7B%22SeeDocsAt%22%3A%22https%....</code>)</p>
<p>If you cloned the repo in your home directory you will already have this file in place.
If not, copy-paste the contents of the <a href="https://github.com/FS-Driverless/Formula-Student-Driverless-Simulator/blob/master/settings.json">settings.json file at the root of this repository</a> into the <code>~/Formula-Student-Driverless-Simulator</code>.
This should get you started with the default vehicle and sensor configuration, but feel free to try your own custom sensor suite.
The default vehicle is the Technion Formula Student racing car, but teams participating in the UK edition of FS-AI might want
to simulate the ADS-DV vehicle. To do so, change the value of the <code>PawnBP</code> field in <code>settings.json</code> to <code>"Class'/AirSim/VehicleAdv/Cars/AdsDv/AdsDv_Pawn.AdsDv_Pawn_C'"</code>.</p>
<h2 id="installation">Installation</h2>
<h3 id="from-release-binaries">From release binaries</h3>
<p>Pre-compiled binaries are available for every release.
Go to <a href="https://github.com/FS-Driverless/Formula-Student-Driverless-Simulator/releases">releases</a> and download the latest one.
Unzip it to anywhere on your computer and launch FSDS.exe.
A window with a car should popup!
Try driving the car around using the arrowkeys.
If you get a black screen with some buttons, make sure the folder with the binary is in your user folder (Windows: <code>C:\Users\username\Formula-Student-Driverless-Simulator</code>, Linux: <code>~/Formula-Student-Driverless-Simulator</code>)</p>
<p>If all that works, you can continue to <a href="../getting-started-with-ros/">the ROS interface</a> or <a href="../getting-started-with-python/">the python interface</a>.</p>
<h3 id="from-source-using-the-unreal-engine-editor">From source using the Unreal Engine Editor</h3>
<p>Instead of running the simulator from release binaries, you can compile it manually using unreal engine.
This is usefull if you want to get the latest changes or if you want to make changes to the maps or the simulation itself.
If you want to run the unreal engine project from source you will need <a href="../software-install-instructions/">unreal engine and visual studio 2019</a>.
On Ubuntu you can skip the visual studio 2019 part, but you still need Unreal Engine.</p>
<h4 id="1-get-the-repository">1. Get the repository</h4>
<p>You can either download the repo using the big green download button on the <a href="https://github.com/FS-Driverless/Formula-Student-Driverless-Simulator">github page of this project</a> or clone the repository. For cloning, checkout the documentation on this further down this page. Make sure you clone the repository in your <strong>home directory</strong> and git <strong>submodules</strong> are included:</p>
<pre><code>git clone https://github.com/FS-Driverless/Formula-Student-Driverless-Simulator.git --recurse-submodules
</code></pre>
<p>When downloading or cloning, by default you get the latest, unreleased version. This is probably not the version that you want. Make sure you select the version that you need! </p>
<h4 id="2-compiling-the-airsim-plugin">2. Compiling the AirSim plugin</h4>
<p>The Unreal Engine project requires the AirSim plugin.
We have to compile this plugin first.
The AirSim plugin is made up of AirLib (/AirSim/AirLib) and the plugin code (/UE4Project/Plugins/AirSim/Source).
AirLib is the shared code between the ros wrapper and the AirSim Unreal Engine plugin.</p>
<p>First build the AirLib code.</p>
<p>On Windows, open the <em>Developer Command Prompt for VS 2019</em>, go to <code>Formula-Student-Driverless-Simulator/AirSim</code> and run</p>
<pre><code>build.cmd
</code></pre>
<p>On Ubuntu, go to folder <code>AirSim</code> and run <code>setup.sh</code> and <code>build.sh</code>.</p>
<blockquote>
<p>So what does build.cmd or setup.sh+build.sh do? 
  It downloads any nessesary libraries and compiles AirLib.
  After compilation it places the files in the UE4Project so that these files can be used durcing compilation of the plugin.</p>
</blockquote>
<p>The first time this takes quite a while. Go walk around a bit, maybe start playing <a href="https://factoryidle.com/">factoryidle</a>. </p>
<h4 id="3-working-with-the-unreal-engine-project">3. Working with the Unreal Engine project</h4>
<p>Launch Unreal Engine, press Browse and open the FSDS project in <code>~/Driverless-Competition-Simulator/UE4Project/FSOnline.uproject</code>. 
The project should now open correctly. 
If it does not, make sure of the following:</p>
<ul>
<li>you have cloned the repository inside your home folder (~/) </li>
<li>you have cloned with LFS enabed. If not, run <code>git lfs install</code> and <code>git lfs pull</code> to download the large files.</li>
<li>within <code>~/Driverless-Competition-Simulator/AirSim/</code>, you have run <code>build.cmd</code> on Windows and <code>./setup.sh &amp;&amp; ./build.sh</code> on Ubuntu.</li>
</ul>
<p>On Ubuntu, we recommend adding the following alias to your <code>~/.bashrc</code> to speed up the process of opening the repository in the future:
<code>alias ue='~/UnrealEngine/Engine/Binaries/Linux/UE4Editor ~/Formula-Student-Driverless-Simulator/UE4Project/FSOnline.uproject'</code></p>
<p>It might show an error like 'This project was made with a different version of the Unreal Engine'. In that case select <code>more options</code> and <code>skip conversion</code>.</p>
<p>When asked to rebuild the 'Blocks' and 'AirSim' modules, choose 'Yes'.
This is the step where the plugin part of AirSim is compiled.</p>
<p>After some time Unreal Engine will start and you can launch the game. 
Run the game in standalone mode or or selected viewport mode, simulate and eject mode do not support camera's.</p>
<p>If you make changes to AirLib you have to run <code>build.cmd</code> again.</p>
<p>If you make changes to the plugin code or AirLib, you only have to recompile the plugin.
This can be done from within the Unreal Editor. go to to <code>Window</code> -&gt; <code>Developer tools</code> -&gt; <code>Modules</code>.
Search for <code>AirSim</code> and click <code>Recompile</code>.</p>
<h4 id="4-launching-the-game">4. Launching the game</h4>
<p>To run the game, click the big Play button.
If you want to run it like it would run when packaged, choose 'Run as standalone game'.</p>
<h2 id="next-steps">Next steps</h2>
<p>Now you are ready to connect your autonomous system.
At the moment there are two integration methods:</p>
<ul>
<li><a href="../getting-started-with-ros/">Use the ROS bridge</a> to connect your ROS autonomous system to the bridge.</li>
<li><a href="../getting-started-with-python/">Use the Python client</a> to interact with the simulator.</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../system-overview/" class="btn btn-neutral float-left" title="System overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../getting-started-with-ros/" class="btn btn-neutral float-right" title="Getting started with ROS">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>GPLv2</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../system-overview/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../getting-started-with-ros/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
      <script src="../js/version-select.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
